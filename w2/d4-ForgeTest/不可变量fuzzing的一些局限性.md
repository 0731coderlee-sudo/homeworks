### 不可变量fuzzing的一些局限性
- 在当前项目中,其实存在一个路径会导致nftmarket合约会存在持有ttcoin的情况存在,比如当卖家trasnferwithcall的时候,发送给合约超过预定价格的ttcoin,这时候超额的这一部分会被保留在市场合约里面.所以market永远不持有token是一个不可变量(invariant)
  
### 测试案例这样实现:
```
import "forge-std/StdInvariant.sol";
    function setUp() public {
        .....预设的一些容易触发可变路径的条件....
    targetContract(address(market));
    targetContract(address(ttcToken));
    targetContract(address(nft));
    }

     // Invariant: market should never hold TTC tokens (for correct buy/list flows)
    function invariant_market_holds_no_ttc() public view {
        assert(ttcToken.balanceOf(address(market)) == 0);
    }
```

### 实际测试结果
```
╭------------+----------------------+-------+---------+----------╮
| Contract   | Selector             | Calls | Reverts | Discards |
+================================================================+
| BaseERC721 | approve              | 4606  | 4606    | 0        |
|------------+----------------------+-------+---------+----------|
| BaseERC721 | autoMintWithURI      | 4702  | 4702    | 0        |
|------------+----------------------+-------+---------+----------|
| BaseERC721 | batchMint            | 4662  | 4662    | 0        |
|------------+----------------------+-------+---------+----------|
| BaseERC721 | batchMintWithURIs    | 4590  | 4590    | 0        |
|------------+----------------------+-------+---------+----------|
| BaseERC721 | burn                 | 4496  | 4496    | 0        |
|------------+----------------------+-------+---------+----------|
| BaseERC721 | mint                 | 4568  | 4568    | 0        |
|------------+----------------------+-------+---------+----------|
| BaseERC721 | mintWithURI          | 4708  | 4708    | 0        |
|------------+----------------------+-------+---------+----------|
| BaseERC721 | renounceOwnership    | 4569  | 4569    | 0        |
|------------+----------------------+-------+---------+----------|
| BaseERC721 | safeTransferFrom     | 9041  | 9041    | 0        |
|------------+----------------------+-------+---------+----------|
| BaseERC721 | setApprovalForAll    | 4562  | 0       | 0        |
|------------+----------------------+-------+---------+----------|
| BaseERC721 | setBaseURI           | 4663  | 4663    | 0        |
|------------+----------------------+-------+---------+----------|
| BaseERC721 | setTokenURI          | 4541  | 4541    | 0        |
|------------+----------------------+-------+---------+----------|
| BaseERC721 | transferFrom         | 4527  | 4527    | 0        |
|------------+----------------------+-------+---------+----------|
| BaseERC721 | transferOwnership    | 4530  | 4530    | 0        |
|------------+----------------------+-------+---------+----------|
| NFTMarket  | addSupportedToken    | 4511  | 4511    | 0        |
|------------+----------------------+-------+---------+----------|
| NFTMarket  | buyNFT               | 4622  | 4622    | 0        |
|------------+----------------------+-------+---------+----------|
| NFTMarket  | list                 | 4538  | 4538    | 0        |
|------------+----------------------+-------+---------+----------|
| NFTMarket  | listWithToken        | 4481  | 4481    | 0        |
|------------+----------------------+-------+---------+----------|
| NFTMarket  | removeSupportedToken | 4529  | 4529    | 0        |
|------------+----------------------+-------+---------+----------|
| NFTMarket  | tokensReceived       | 4559  | 4559    | 0        |
|------------+----------------------+-------+---------+----------|
| ttcoin     | approve              | 4527  | 7       | 0        |
|------------+----------------------+-------+---------+----------|
| ttcoin     | approveAndCall       | 4539  | 4539    | 0        |
|------------+----------------------+-------+---------+----------|
| ttcoin     | burn                 | 4528  | 4484    | 0        |
|------------+----------------------+-------+---------+----------|
| ttcoin     | burnFrom             | 4591  | 4530    | 0        |
|------------+----------------------+-------+---------+----------|
| ttcoin     | transfer             | 4632  | 4572    | 0        |
|------------+----------------------+-------+---------+----------|
| ttcoin     | transferFrom         | 4670  | 4614    | 0        |
|------------+----------------------+-------+---------+----------|
| ttcoin     | transferWithCallback | 4508  | 4456    | 0        |
╰------------+----------------------+-------+---------+----------╯
```
    
### 结果
- 测试从结果来看,其实测试并没有找到这一条可以导致可变量产生变化的路径.即便在我们已经预设了一些前提条件使他更接近触发路径的前提下,仍然没有测出来.因此目前来看不能太过于依赖于forge提供的StdInvariant测试.